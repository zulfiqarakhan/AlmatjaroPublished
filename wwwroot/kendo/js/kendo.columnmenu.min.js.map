{"version":3,"sources":["kendo.columnmenu.js"],"names":["f","define","$","undefined","trim","text","kendo","replace","toHash","arr","key","idx","len","current","result","length","leafColumns","columns","concat","push","attrEquals","attrName","attrValue","attr","insertElementAt","index","element","container","insertAfter","children","eq","prepend","columnOccurrences","signature","i","columnDict","JSON","stringify","oldColumnOccurrences","renderedListElements","checkBoxes","columCheckbox","field","title","j","indexAttr","fieldAttr","parseInt","window","ui","proxy","extend","grep","map","inArray","ACTIVE","ASC","DESC","CHANGE","INIT","OPEN","SELECT","STICK","UNSTICK","POPUP","FILTERMENU","MENU","NS","Widget","ColumnMenu","init","options","link","that","this","fn","call","owner","dataSource","find","addClass","messages","settings","on","_click","wrapper","_refreshHandler","refresh","bind","_init","pane","_isMobile","_createMobileMenu","_createMenu","_muteAngularRebind","_angularItems","_sort","_columns","_filter","_lockColumns","_stickyColumns","trigger","events","name","sortAscending","sortDescending","filter","column","columnVisibility","clear","cancel","done","lock","unlock","stick","unstick","setColumnPosition","sortable","filterable","animations","left","encodeTitles","html","template","uid","guid","ns","_ownerColumns","showColumns","hasLockableColumns","hasStickableColumns","popup","anchor","copyAnchorStyles","open","_open","activate","_activate","deactivate","_deactivate","close","menu","_closing","closeCallback","data","orientation","closeOnClick","_updateMenuItems","viewElement","mobileTemplate","view","append","state","MobileMenu","columnMenu","e","stopPropagation","preventDefault","_applyChanges","_cancelChanges","_updateLockedColumns","_updateStickyColumns","initialSort","action","angular","items","closest","col","_originalObject","elements","destroy","filterMenu","unbind","_updateColumnsMenuHandler","_updateColumnsLockedStateHandler","off","purge","is","navigate","toggle","_setMenuItemsVisibility","sort","_updateDataIndexes","_reorderMenuItems","_eachRenderedMenuItem","renderedListElement","matchesMedia","hide","show","renderedList","first","mappedColumns","x","each","indexOf","callback","duplicateColumnIndex","fieldValue","currentColumn","columnElements","oldOccurances","columnOccurrence","add","not","keyCode","keys","ESC","focus","omitSort","menuColumns","originalField","hidden","locked","headerAttributes","id","a","b","dir","item","hasClass","parent","removeClass","_sortDataSource","compare","allowUnsort","mode","splice","_updateColumnsMenu","_updateColumnsLockedState","input","columnIndexMap","columnsCount","showColumn","hideColumn","checked","checkboxes","switchWidget","lockedAttr","uidAttr","colIdx","columnsInMenu","visibleFields","visibleDataFields","lockedCount","nonLockedCount","columnsNotInMenu","hiddenColumnsNotInMenu","prop","enable","check","widget","multi","checkSource","appendToElement","values","change","lockColumn","unlockColumn","stickColumn","unstickColumn","notLockable","lockItem","unlockItem","lockable","sticky","stickable","stickItem","unstickItem","descriptor","_filterExist","filters","found","_createCheckBoxes","target","currentTarget","_updateSelectedItems","el","otherItem","otherItemId","force","selectedItems","hasOwnProperty","kendoSwitch","unchecked","sender","_destroyCheckBoxes","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.columnmenu.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.columnmenu', [\n        'kendo.popup',\n        'kendo.filtermenu',\n        'kendo.menu'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'columnmenu',\n        name: 'Column Menu',\n        category: 'framework',\n        depends: [\n            'popup',\n            'filtermenu',\n            'menu'\n        ],\n        advanced: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, proxy = $.proxy, extend = $.extend, grep = $.grep, map = $.map, inArray = $.inArray, ACTIVE = 'k-state-selected', ASC = 'asc', DESC = 'desc', CHANGE = 'change', INIT = 'init', OPEN = 'open', SELECT = 'select', STICK = 'stick', UNSTICK = 'unstick', POPUP = 'kendoPopup', FILTERMENU = 'kendoFilterMenu', MENU = 'kendoMenu', NS = '.kendoColumnMenu', Widget = ui.Widget;\n        function trim(text) {\n            return kendo.trim(text).replace(/&nbsp;/gi, '');\n        }\n        function toHash(arr, key) {\n            var result = {};\n            var idx, len, current;\n            for (idx = 0, len = arr.length; idx < len; idx++) {\n                current = arr[idx];\n                result[current[key]] = current;\n            }\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function attrEquals(attrName, attrValue) {\n            return '[' + kendo.attr(attrName) + '=\\'' + (attrValue || '').replace(/'/g, '\"') + '\\']';\n        }\n        function insertElementAt(index, element, container) {\n            if (index > 0) {\n                element.insertAfter(container.children().eq(index - 1));\n            } else {\n                container.prepend(element);\n            }\n        }\n        function columnOccurrences(columns) {\n            var columnDict = {};\n            var signature;\n            for (var i = 0; i < columns.length; i++) {\n                signature = JSON.stringify(columns[i]);\n                if (columnDict[signature]) {\n                    columnDict[signature].push(i);\n                } else {\n                    columnDict[signature] = [i];\n                }\n            }\n            return columnDict;\n        }\n        function oldColumnOccurrences(renderedListElements, checkBoxes) {\n            var indexAttr = kendo.attr('index');\n            var fieldAttr = kendo.attr('field');\n            var columnDict = {};\n            var signature;\n            var columCheckbox;\n            var index;\n            var field;\n            var title;\n            for (var j = 0; j < renderedListElements.length; j++) {\n                columCheckbox = checkBoxes.eq(j);\n                index = parseInt(columCheckbox.attr(indexAttr), 10);\n                field = columCheckbox.attr(fieldAttr);\n                title = columCheckbox.attr('title');\n                signature = field ? field : title;\n                if (columnDict[signature]) {\n                    columnDict[signature].push(index);\n                } else {\n                    columnDict[signature] = [index];\n                }\n            }\n            return columnDict;\n        }\n        var ColumnMenu = Widget.extend({\n            init: function (element, options) {\n                var that = this, link;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that.owner = options.owner;\n                that.dataSource = options.dataSource;\n                that.field = element.attr(kendo.attr('field'));\n                that.title = element.attr(kendo.attr('title'));\n                link = element.find('.k-header-column-menu');\n                if (!link[0]) {\n                    link = element.addClass('k-with-icon').prepend('<a class=\"k-header-column-menu\" href=\"#\" title=\"' + options.messages.settings + '\" aria-label=\"' + options.messages.settings + '\"><span class=\"k-icon k-i-more-vertical\"></span></a>').find('.k-header-column-menu');\n                }\n                that.link = link.attr('tabindex', -1).on('click' + NS, proxy(that._click, that));\n                that.wrapper = $('<div class=\"k-column-menu\"/>');\n                that._refreshHandler = proxy(that.refresh, that);\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n            },\n            _init: function () {\n                var that = this;\n                that.pane = that.options.pane;\n                if (that.pane) {\n                    that._isMobile = true;\n                }\n                if (that._isMobile) {\n                    that._createMobileMenu();\n                } else {\n                    that._createMenu();\n                }\n                that.owner._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                that._sort();\n                that._columns();\n                that._filter();\n                that._lockColumns();\n                that._stickyColumns();\n                that.trigger(INIT, {\n                    field: that.field,\n                    container: that.wrapper\n                });\n            },\n            events: [\n                INIT,\n                OPEN,\n                'sort',\n                'filtering',\n                STICK,\n                UNSTICK\n            ],\n            options: {\n                name: 'ColumnMenu',\n                messages: {\n                    sortAscending: 'Sort Ascending',\n                    sortDescending: 'Sort Descending',\n                    filter: 'Filter',\n                    column: 'Column',\n                    columns: 'Columns',\n                    columnVisibility: 'Column Visibility',\n                    clear: 'Clear',\n                    cancel: 'Cancel',\n                    done: 'Done',\n                    settings: 'Edit Column Settings',\n                    lock: 'Lock Column',\n                    unlock: 'Unlock Column',\n                    stick: 'Stick Column',\n                    unstick: 'Unstick Column',\n                    setColumnPosition: 'Set Column Position'\n                },\n                filter: '',\n                columns: true,\n                sortable: true,\n                filterable: true,\n                animations: { left: 'slide' },\n                encodeTitles: false\n            },\n            _createMenu: function () {\n                var that = this, options = that.options;\n                that.wrapper.html(kendo.template(template)({\n                    uid: kendo.guid(),\n                    ns: kendo.ns,\n                    messages: options.messages,\n                    sortable: options.sortable,\n                    filterable: options.filterable,\n                    columns: that._ownerColumns(),\n                    showColumns: options.columns,\n                    hasLockableColumns: options.hasLockableColumns,\n                    hasStickableColumns: options.hasStickableColumns,\n                    encodeTitles: options.encodeTitles\n                }));\n                that.popup = that.wrapper[POPUP]({\n                    anchor: that.link,\n                    copyAnchorStyles: false,\n                    open: proxy(that._open, that),\n                    activate: proxy(that._activate, that),\n                    deactivate: proxy(that._deactivate, that),\n                    close: function () {\n                        that.menu._closing = true;\n                        if (that.options.closeCallback) {\n                            that.options.closeCallback(that.element);\n                        }\n                    }\n                }).data(POPUP);\n                that.menu = that.wrapper.children()[MENU]({\n                    orientation: 'vertical',\n                    closeOnClick: false,\n                    open: function () {\n                        that._updateMenuItems();\n                    }\n                }).data(MENU);\n            },\n            _deactivate: function () {\n                this.menu._closing = false;\n            },\n            _createMobileMenu: function () {\n                var that = this, options = that.options;\n                var html = kendo.template(mobileTemplate)({\n                    ns: kendo.ns,\n                    field: that.field,\n                    title: that.title || that.field,\n                    messages: options.messages,\n                    sortable: options.sortable,\n                    filterable: options.filterable,\n                    columns: that._ownerColumns(),\n                    showColumns: options.columns,\n                    hasLockableColumns: options.hasLockableColumns,\n                    hasStickableColumns: options.hasStickableColumns\n                });\n                that.view = that.pane.append(html);\n                that.view.state = { columns: {} };\n                that.wrapper = that.view.element.find('.k-column-menu');\n                that.menu = new MobileMenu(that.wrapper.children(), {\n                    pane: that.pane,\n                    columnMenu: that\n                });\n                that.menu.element.on('transitionend' + NS, function (e) {\n                    e.stopPropagation();\n                });\n                var viewElement = that.view.wrapper && that.view.wrapper[0] ? that.view.wrapper : that.view.element;\n                viewElement.on('click', '.k-header-done', function (e) {\n                    e.preventDefault();\n                    that.menu._applyChanges();\n                    that.menu._cancelChanges(false);\n                    that.close();\n                });\n                viewElement.on('click', '.k-header-cancel', function (e) {\n                    e.preventDefault();\n                    that.menu._cancelChanges(true);\n                    that.close();\n                });\n                that.view.bind('showStart', function () {\n                    var view = that.view || { columns: {} };\n                    if (that.options.hasLockableColumns) {\n                        that._updateLockedColumns();\n                    }\n                    if (that.options.hasStickableColumns) {\n                        that._updateStickyColumns();\n                    }\n                    if (view.element.find('.k-sort-asc.k-state-selected').length) {\n                        view.state.initialSort = 'asc';\n                    } else if (view.element.find('.k-sort-desc.k-state-selected').length) {\n                        view.state.initialSort = 'desc';\n                    }\n                });\n            },\n            _angularItems: function (action) {\n                var that = this;\n                that.angular(action, function () {\n                    var items = that.wrapper.find('.k-columns-item input[' + kendo.attr('field') + ']').map(function () {\n                        return $(this).closest('li');\n                    });\n                    var data = map(that._ownerColumns(), function (col) {\n                        return { column: col._originalObject };\n                    });\n                    return {\n                        elements: items,\n                        data: data\n                    };\n                });\n            },\n            destroy: function () {\n                var that = this;\n                that._angularItems('cleanup');\n                Widget.fn.destroy.call(that);\n                if (that.filterMenu) {\n                    that.filterMenu.destroy();\n                }\n                if (that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                if (that.options.columns && that.owner) {\n                    if (that._updateColumnsMenuHandler) {\n                        that.owner.unbind('columnShow', that._updateColumnsMenuHandler);\n                        that.owner.unbind('columnHide', that._updateColumnsMenuHandler);\n                    }\n                    if (that._updateColumnsLockedStateHandler) {\n                        that.owner.unbind('columnLock', that._updateColumnsLockedStateHandler);\n                        that.owner.unbind('columnUnlock', that._updateColumnsLockedStateHandler);\n                    }\n                }\n                if (that.menu) {\n                    that.menu.element.off(NS);\n                    that.menu.destroy();\n                }\n                that.wrapper.off(NS);\n                if (that.popup) {\n                    that.popup.destroy();\n                }\n                if (that.view) {\n                    that.view.purge();\n                }\n                that.link.off(NS);\n                that.owner = null;\n                that.wrapper = null;\n                that.element = null;\n            },\n            close: function () {\n                this.menu.close();\n                if (this.popup) {\n                    this.popup.close();\n                    this.popup.element.off('keydown' + NS);\n                }\n            },\n            _click: function (e) {\n                var that = this;\n                e.preventDefault();\n                e.stopPropagation();\n                var options = this.options;\n                if (options.filter && this.element.is(!options.filter)) {\n                    return;\n                }\n                if (!this.popup && !this.pane) {\n                    this._init();\n                } else {\n                    that._updateMenuItems();\n                }\n                if (this._isMobile) {\n                    this.pane.navigate(this.view, this.options.animations.left);\n                } else {\n                    this.popup.toggle();\n                }\n            },\n            _updateMenuItems: function () {\n                var that = this;\n                if (that.options.columns) {\n                    that._setMenuItemsVisibility();\n                    if (!that.options.columns.sort) {\n                        that._reorderMenuItems();\n                    } else {\n                        that._updateDataIndexes();\n                    }\n                }\n            },\n            _setMenuItemsVisibility: function () {\n                var that = this;\n                that._eachRenderedMenuItem(function (index, column, renderedListElement) {\n                    if (column.matchesMedia === false) {\n                        renderedListElement.hide();\n                    } else {\n                        renderedListElement.show();\n                    }\n                });\n            },\n            _reorderMenuItems: function () {\n                var that = this;\n                that._eachRenderedMenuItem(function (index, column, renderedListElement, renderedList) {\n                    if (renderedListElement[0] && renderedListElement.index() !== index) {\n                        insertElementAt(index, renderedListElement, renderedList);\n                    }\n                });\n                that._updateDataIndexes();\n            },\n            _updateDataIndexes: function () {\n                var that = this;\n                var renderedList = that._isMobile && that.view ? $(that.view.element).find('.k-columns-item').children('ul') : $(that.wrapper).find('.k-menu-group').first(), mappedColumns = that._ownerColumns(true).map(function (x) {\n                        return x.title || x.field;\n                    });\n                renderedList.find('span.' + (this._isMobile ? 'k-listgroup-form-field-wrapper' : 'k-menu-link') + ' input').each(function (i) {\n                    var columns;\n                    var index;\n                    if (that.options.columns.sort) {\n                        columns = that._ownerColumns();\n                        index = mappedColumns.indexOf(columns[i].title);\n                        $(this).attr(kendo.attr('index'), index);\n                    } else {\n                        $(this).attr(kendo.attr('index'), i);\n                    }\n                });\n            },\n            _eachRenderedMenuItem: function (callback) {\n                var that = this;\n                var renderedListElement;\n                var duplicateColumnIndex;\n                var fieldValue;\n                var currentColumn;\n                var columns = grep(leafColumns(that.owner.columns), function (col) {\n                    var result = true, title = trim(col.title || '');\n                    if (col.menu === false || !col.field && !title.length) {\n                        result = false;\n                    }\n                    return result;\n                }).map(function (col) {\n                    return {\n                        field: col.field,\n                        title: col.title,\n                        matchesMedia: col.matchesMedia\n                    };\n                });\n                var renderedList = that._isMobile && that.view ? $(that.view.element).find('.k-columns-item').children('ul') : $(that.wrapper).find('.k-menu-group').first();\n                var renderedListElements = renderedList.find('span.' + (this._isMobile ? 'k-listgroup-form-field-wrapper' : 'k-menu-link'));\n                var oldOccurances = oldColumnOccurrences(renderedListElements, renderedList.find('input[type=checkbox]'));\n                var columnOccurrence = columnOccurrences(columns);\n                var columnElements;\n                for (var i = 0; i < columns.length; i++) {\n                    currentColumn = columns[i];\n                    fieldValue = currentColumn.field ? currentColumn.field : currentColumn.title;\n                    duplicateColumnIndex = $.inArray(i, columnOccurrence[JSON.stringify(currentColumn)]);\n                    columnElements = $();\n                    for (var idx = 0; idx < oldOccurances[fieldValue].length; idx++) {\n                        columnElements = columnElements.add(renderedListElements.eq(oldOccurances[fieldValue][idx]));\n                    }\n                    renderedListElement = columnElements.find(attrEquals('field', fieldValue)).closest('li').eq(duplicateColumnIndex);\n                    callback(i, currentColumn, renderedListElement, renderedList);\n                }\n            },\n            _open: function () {\n                var that = this;\n                $('.k-column-menu').not(that.wrapper).each(function () {\n                    $(this).data(POPUP).close();\n                });\n                that.popup.element.on('keydown' + NS, function (e) {\n                    if (e.keyCode == kendo.keys.ESC) {\n                        that.close();\n                    }\n                });\n                if (that.options.hasLockableColumns) {\n                    that._updateLockedColumns();\n                }\n                if (that.options.hasStickableColumns) {\n                    that._updateStickyColumns();\n                }\n            },\n            _activate: function () {\n                this.menu.element.focus();\n                this.trigger(OPEN, {\n                    field: this.field,\n                    container: this.wrapper\n                });\n            },\n            _ownerColumns: function (omitSort) {\n                var columns = leafColumns(this.owner.columns), menuColumns = grep(columns, function (col) {\n                        var result = true, title = trim(col.title || '');\n                        if (col.menu === false || !col.field && !title.length) {\n                            result = false;\n                        }\n                        return result;\n                    }), result, sort = this.options.columns.sort;\n                result = map(menuColumns, function (col) {\n                    return {\n                        originalField: col.field,\n                        field: col.field || col.title,\n                        title: col.title || col.field,\n                        hidden: col.hidden,\n                        matchesMedia: col.matchesMedia,\n                        index: inArray(col, columns),\n                        locked: !!col.locked,\n                        _originalObject: col,\n                        uid: col.headerAttributes.id\n                    };\n                });\n                if (sort && !omitSort) {\n                    result.sort(function (a, b) {\n                        if (a.title < b.title) {\n                            return sort === 'asc' ? -1 : 1;\n                        }\n                        if (a.title > b.title) {\n                            return sort === 'asc' ? 1 : -1;\n                        }\n                        return 0;\n                    });\n                }\n                return result;\n            },\n            _sort: function () {\n                var that = this;\n                if (that.options.sortable) {\n                    that.refresh();\n                    that.menu.bind(SELECT, function (e) {\n                        var item = $(e.item), dir;\n                        if (item.hasClass('k-sort-asc')) {\n                            dir = ASC;\n                        } else if (item.hasClass('k-sort-desc')) {\n                            dir = DESC;\n                        }\n                        if (!dir) {\n                            return;\n                        }\n                        item.parent().find('.k-sort-' + (dir == ASC ? DESC : ASC)).removeClass(ACTIVE);\n                        that._sortDataSource(item, dir);\n                        if (!that._isMobile) {\n                            that.close();\n                        }\n                    });\n                }\n            },\n            _sortDataSource: function (item, dir) {\n                var that = this, sortable = that.options.sortable, compare = sortable.compare === null ? undefined : sortable.compare, dataSource = that.dataSource, idx, length, sort = dataSource.sort() || [];\n                var removeClass = item.hasClass(ACTIVE) && sortable && sortable.allowUnsort !== false;\n                dir = !removeClass ? dir : undefined;\n                if (that.trigger('sort', {\n                        sort: {\n                            field: that.field,\n                            dir: dir,\n                            compare: compare\n                        }\n                    })) {\n                    return;\n                }\n                if (removeClass) {\n                    item.removeClass(ACTIVE);\n                } else {\n                    item.addClass(ACTIVE);\n                }\n                if (sortable.mode === 'multiple') {\n                    for (idx = 0, length = sort.length; idx < length; idx++) {\n                        if (sort[idx].field === that.field) {\n                            sort.splice(idx, 1);\n                            break;\n                        }\n                    }\n                    sort.push({\n                        field: that.field,\n                        dir: dir,\n                        compare: compare\n                    });\n                } else {\n                    sort = [{\n                            field: that.field,\n                            dir: dir,\n                            compare: compare\n                        }];\n                }\n                dataSource.sort(sort);\n            },\n            _columns: function () {\n                var that = this;\n                if (that.options.columns) {\n                    that._updateColumnsMenu();\n                    that._updateColumnsMenuHandler = proxy(that._updateColumnsMenu, that);\n                    that.owner.bind([\n                        'columnHide',\n                        'columnShow'\n                    ], that._updateColumnsMenuHandler);\n                    that._updateColumnsLockedStateHandler = proxy(that._updateColumnsLockedState, that);\n                    that.owner.bind([\n                        'columnUnlock',\n                        'columnLock'\n                    ], that._updateColumnsLockedStateHandler);\n                    that.menu.bind(SELECT, function (e) {\n                        var item = $(e.item), input, column, indexAttr = kendo.attr('index'), columnIndexMap = {}, columnsCount = 0, columns = grep(leafColumns(that.owner.columns), function (col, idx) {\n                                var result = true, title = trim(col.title || '');\n                                if (col.menu === false || !col.field && !title.length) {\n                                    result = false;\n                                }\n                                if (result) {\n                                    columnIndexMap[idx] = columnsCount;\n                                    columnsCount++;\n                                }\n                                return result;\n                            });\n                        if (that._isMobile) {\n                            e.preventDefault();\n                        }\n                        if (!item.parent().closest('li.k-columns-item')[0]) {\n                            return;\n                        }\n                        input = item.find(':checkbox');\n                        if (input.attr('disabled')) {\n                            return;\n                        }\n                        column = columns[parseInt(input.attr(indexAttr), 10)];\n                        if (column.hidden === true) {\n                            that.owner.showColumn(column);\n                        } else {\n                            that.owner.hideColumn(column);\n                        }\n                    });\n                }\n            },\n            _updateColumnsMenu: function () {\n                var idx, length, current, checked, locked;\n                var fieldAttr = kendo.attr('field'), lockedAttr = kendo.attr('locked'), uidAttr = kendo.attr('uid'), columnIndexMap = {}, columnsCount = 0, colIdx = 0, columnsInMenu = grep(leafColumns(this.owner.columns), function (col, idx) {\n                        var result = true, title = trim(col.title || '');\n                        if (col.menu === false || !col.field && !title.length) {\n                            result = false;\n                        }\n                        if (result) {\n                            columnIndexMap[idx] = columnsCount;\n                            columnsCount++;\n                        }\n                        return result;\n                    }), visibleFields = grep(this._ownerColumns(), function (field) {\n                        return !field.hidden && field.matchesMedia !== false;\n                    }), visibleDataFields = grep(visibleFields, function (field) {\n                        return field.originalField;\n                    }), lockedCount = grep(visibleDataFields, function (col) {\n                        return col.locked === true;\n                    }).length, nonLockedCount = grep(visibleDataFields, function (col) {\n                        return col.locked !== true;\n                    }).length, columnsNotInMenu = grep(this.owner.columns, function (col) {\n                        return col.menu === false;\n                    }), hiddenColumnsNotInMenu = grep(columnsNotInMenu, function (col) {\n                        return col.hidden;\n                    });\n                this.wrapper.find('[role=\\'menuitemcheckbox\\']').attr('aria-checked', false);\n                var checkboxes = this.wrapper.find('.k-columns-item input[' + fieldAttr + ']').prop('disabled', false).prop('checked', false);\n                var switchWidget;\n                for (idx = 0, length = checkboxes.length; idx < length; idx++) {\n                    current = checkboxes.eq(idx);\n                    locked = current.attr(lockedAttr) === 'true';\n                    checked = false;\n                    switchWidget = current.data('kendoSwitch');\n                    colIdx = columnsInMenu.map(function (col) {\n                        return col.headerAttributes.id;\n                    }).indexOf(current.attr(uidAttr));\n                    checked = !columnsInMenu[colIdx].hidden && columnsInMenu[colIdx].matchesMedia !== false;\n                    current.prop('checked', checked);\n                    if (switchWidget) {\n                        switchWidget.enable(true);\n                        switchWidget.check(checked);\n                    }\n                    current.closest('[role=\\'menuitemcheckbox\\']').attr('aria-checked', checked);\n                    if (checked) {\n                        if (lockedCount == 1 && locked) {\n                            current.prop('disabled', true);\n                            if (switchWidget) {\n                                switchWidget.enable(false);\n                            }\n                        }\n                        if ((columnsNotInMenu.length === 0 || columnsNotInMenu.length === hiddenColumnsNotInMenu.length) && nonLockedCount == 1 && !locked) {\n                            current.prop('disabled', true);\n                            if (switchWidget) {\n                                switchWidget.enable(false);\n                            }\n                        }\n                    }\n                }\n            },\n            _updateColumnsLockedState: function () {\n                var idx, length, current, column;\n                var fieldAttr = kendo.attr('field');\n                var lockedAttr = kendo.attr('locked');\n                var columns = toHash(this._ownerColumns(), 'field');\n                var checkboxes = this.wrapper.find('.k-columns-item input[type=checkbox]');\n                for (idx = 0, length = checkboxes.length; idx < length; idx++) {\n                    current = checkboxes.eq(idx);\n                    column = columns[current.attr(fieldAttr)];\n                    if (column) {\n                        current.attr(lockedAttr, column.locked);\n                    }\n                }\n                this._updateColumnsMenu();\n            },\n            _filter: function () {\n                var that = this, widget = FILTERMENU, options = that.options;\n                if (options.filterable !== false) {\n                    if (options.filterable.multi) {\n                        widget = 'kendoFilterMultiCheck';\n                        if (options.filterable.dataSource) {\n                            options.filterable.checkSource = options.filterable.dataSource;\n                            delete options.filterable.dataSource;\n                        }\n                    }\n                    that.filterMenu = that.wrapper.find('.k-filterable')[widget](extend(true, {}, {\n                        appendToElement: true,\n                        dataSource: options.dataSource,\n                        values: options.values,\n                        field: that.field,\n                        title: that.title,\n                        change: function (e) {\n                            if (that.trigger('filtering', {\n                                    filter: e.filter,\n                                    field: e.field\n                                })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }, options.filterable)).data(widget);\n                    if (that._isMobile) {\n                        that.menu.bind(SELECT, function (e) {\n                            var item = $(e.item);\n                            if (item.hasClass('k-filter-item')) {\n                                that.pane.navigate(that.filterMenu.view, that.options.animations.left);\n                            }\n                        });\n                    }\n                }\n            },\n            _lockColumns: function () {\n                var that = this;\n                that.menu.bind(SELECT, function (e) {\n                    var item = $(e.item);\n                    if (item.hasClass('k-lock')) {\n                        that.owner.lockColumn(that.field);\n                        if (!that._isMobile) {\n                            that.close();\n                        }\n                    } else if (item.hasClass('k-unlock')) {\n                        that.owner.unlockColumn(that.field);\n                        if (!that._isMobile) {\n                            that.close();\n                        }\n                    }\n                });\n            },\n            _stickyColumns: function () {\n                var that = this;\n                that.menu.bind(SELECT, function (e) {\n                    var item = $(e.item);\n                    var field = that.field;\n                    var columns = that.owner.columns;\n                    var column = grep(columns, function (column) {\n                        return column.field == field || column.title == field;\n                    })[0];\n                    if (item.hasClass('k-stick')) {\n                        that.owner.stickColumn(that.field);\n                        that.trigger(STICK, { column: column });\n                        if (!that._isMobile) {\n                            that.close();\n                        }\n                    } else if (item.hasClass('k-unstick')) {\n                        that.owner.unstickColumn(that.field);\n                        that.trigger(UNSTICK, { column: column });\n                        if (!that._isMobile) {\n                            that.close();\n                        }\n                    }\n                });\n            },\n            _updateLockedColumns: function () {\n                var field = this.field;\n                var columns = this.owner.columns;\n                var column = grep(columns, function (column) {\n                    return column.field == field || column.title == field;\n                })[0];\n                if (!column) {\n                    return;\n                }\n                var locked = column.locked === true;\n                var length = grep(columns, function (column) {\n                    return !column.hidden && (column.locked && locked || !column.locked && !locked);\n                }).length;\n                var notLockable = column.lockable === false;\n                var lockItem = this.wrapper.find('.k-lock').removeClass('k-state-disabled');\n                var unlockItem = this.wrapper.find('.k-unlock').removeClass('k-state-disabled');\n                if (locked || length == 1 || notLockable) {\n                    lockItem.addClass('k-state-disabled');\n                }\n                if (!locked || length == 1 || notLockable) {\n                    unlockItem.addClass('k-state-disabled');\n                }\n                this._updateColumnsLockedState();\n            },\n            _updateStickyColumns: function () {\n                var field = this.field;\n                var columns = this.owner.columns;\n                var column = grep(columns, function (column) {\n                    return column.field == field || column.title == field;\n                })[0];\n                if (!column) {\n                    return;\n                }\n                var sticky = column.sticky === true;\n                var stickable = column.stickable === true;\n                var locked = column.locked === true;\n                var length = grep(columns, function (column) {\n                    return !column.hidden && (column.locked && locked || !column.locked && !locked);\n                }).length;\n                var stickItem = this.wrapper.find('.k-stick').removeClass('k-state-disabled');\n                var unstickItem = this.wrapper.find('.k-unstick').removeClass('k-state-disabled');\n                if (sticky || !stickable || locked && length === 1) {\n                    stickItem.addClass('k-state-disabled');\n                }\n                if (!sticky || !stickable) {\n                    unstickItem.addClass('k-state-disabled');\n                }\n            },\n            refresh: function () {\n                var that = this, sort = that.options.dataSource.sort() || [], descriptor, field = that.field, idx, length;\n                that.wrapper.find('.k-sort-asc, .k-sort-desc').removeClass(ACTIVE);\n                for (idx = 0, length = sort.length; idx < length; idx++) {\n                    descriptor = sort[idx];\n                    if (field == descriptor.field) {\n                        that.wrapper.find('.k-sort-' + descriptor.dir).addClass(ACTIVE);\n                    }\n                }\n                that.link[that._filterExist(that.dataSource.filter()) ? 'addClass' : 'removeClass']('k-state-active');\n            },\n            _filterExist: function (filters) {\n                var found = false;\n                var filter;\n                if (!filters) {\n                    return;\n                }\n                filters = filters.filters;\n                for (var idx = 0, length = filters.length; idx < length; idx++) {\n                    filter = filters[idx];\n                    if (filter.field == this.field) {\n                        found = true;\n                    } else if (filter.filters) {\n                        found = found || this._filterExist(filter);\n                    }\n                }\n                return found;\n            }\n        });\n        var template = '<ul id=\"#=uid#\">' + '#if(sortable){#' + '<li class=\"k-item k-menu-item k-sort-asc\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-sort-asc-sm\"></span>${messages.sortAscending}</span></li>' + '<li class=\"k-item k-menu-item k-sort-desc\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-sort-desc-sm\"></span>${messages.sortDescending}</span></li>' + '#if(showColumns || filterable){#' + '<li class=\"k-separator k-menu-separator\" role=\"presentation\"></li>' + '#}#' + '#}#' + '#if(showColumns){#' + '<li class=\"k-item k-menu-item k-columns-item\" aria-haspopup=\"true\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-columns\"></span>${messages.columns}</span><ul>' + '#for (var idx = 0; idx < columns.length; idx++) {#' + '<li role=\"menuitemcheckbox\" aria-checked=\"false\" #=columns[idx].matchesMedia === false ? \"style=\\'display:none;\\'\" : \"\"#><input type=\"checkbox\" title=\"#=encodeTitles ? kendo.htmlEncode(columns[idx].title) : columns[idx].title#\" data-#=ns#field=\"#=columns[idx].field.replace(/\"/g,\"&\\\\#34;\")#\" data-#=ns#index=\"#=columns[idx].index#\" data-#=ns#locked=\"#=columns[idx].locked#\" data-#=ns#uid=\"#=columns[idx].uid#\"/>#=encodeTitles ? kendo.htmlEncode(columns[idx].title) : columns[idx].title#</li>' + '#}#' + '</ul></li>' + '#if(filterable || hasLockableColumns || hasStickableColumns){#' + '<li class=\"k-separator k-menu-separator\" role=\"presentation\"></li>' + '#}#' + '#}#' + '#if(filterable){#' + '<li class=\"k-item k-menu-item k-filter-item\" aria-haspopup=\"true\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-filter\"></span>${messages.filter}</span><ul>' + '<li><div class=\"k-filterable\"></div></li>' + '</ul></li>' + '#if(hasLockableColumns || hasStickableColumns){#' + '<li class=\"k-separator k-menu-separator\" role=\"presentation\"></li>' + '#}#' + '#}#' + '#if(hasLockableColumns || hasStickableColumns){#' + '<li class=\"k-item k-menu-item k-position-item\" aria-haspopup=\"true\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-set-column-position\"></span>${messages.setColumnPosition}</span><ul>' + '#if(hasLockableColumns){#' + '<li class=\"k-item k-menu-item k-lock\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-lock\"></span>${messages.lock}</span></li>' + '<li class=\"k-item k-menu-item k-unlock\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-unlock\"></span>${messages.unlock}</span></li>' + '#if(hasStickableColumns){#' + '<li class=\"k-separator k-menu-separator\" role=\"presentation\"></li>' + '#}#' + '#}#' + '#if(hasStickableColumns){#' + '<li class=\"k-item k-menu-item k-stick\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-stick\"></span>${messages.stick}</span></li>' + '<li class=\"k-item k-menu-item k-unstick\"><span class=\"k-link k-menu-link\"><span class=\"k-icon k-i-unstick\"></span>${messages.unstick}</span></li>' + '#}#' + '</ul></li>' + '#}#' + '</ul>';\n        var mobileTemplate = '<div data-#=ns#role=\"view\" class=\"k-grid-column-menu\">' + '<div data-#=ns#role=\"header\" class=\"k-header\">' + '<a href=\"\\\\#\" class=\"k-header-cancel k-link\" title=\"#=messages.cancel#\" ' + 'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' + '${messages.settings}' + '<a href=\"\\\\#\" class=\"k-header-done k-link\" title=\"#=messages.done#\" ' + 'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' + '</div>' + '<div class=\"k-column-menu\">' + '<ul class=\"k-reset\">' + '<li>' + '<span class=\"k-list-title\">#=messages.column#: ${title}</span>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '#if(sortable){#' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-sort-asc\"><span class=\"k-link\"><span class=\"k-icon k-i-sort-asc-sm\"></span><span class=\"k-item-title\">${messages.sortAscending}</span></span></li>' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-sort-desc\"><span class=\"k-link\"><span class=\"k-icon k-i-sort-desc-sm\"></span><span class=\"k-item-title\">${messages.sortDescending}</span></span></li>' + '#}#' + '#if(hasLockableColumns){#' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-lock\"><span class=\"k-link\"><span class=\"k-icon k-i-lock\"></span><span class=\"k-item-title\">${messages.lock}</span></span></li>' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-unlock\"><span class=\"k-link\"><span class=\"k-icon k-i-unlock\"></span><span class=\"k-item-title\">${messages.unlock}</span></span></li>' + '#}#' + '#if(hasStickableColumns){#' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-stick\"><span class=\"k-link\"><span class=\"k-icon k-i-stick\"></span><span class=\"k-item-title\">${messages.stick}</span></span></li>' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-unstick\"><span class=\"k-link\"><span class=\"k-icon k-i-unstick\"></span><span class=\"k-item-title\">${messages.unstick}</span></span></li>' + '#}#' + '#if(filterable){#' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item k-filter-item\">' + '<span class=\"k-link k-filterable\">' + '<span class=\"k-icon k-i-filter\"></span>' + '<span class=\"k-item-title\">${messages.filter}</span>' + '<span class=\"k-select\"><span class=\"k-icon k-i-arrow-chevron-right\"></span></span>' + '</span>' + '</li>' + '#}#' + '</ul>' + '</li>' + '#if(showColumns){#' + '<li class=\"k-columns-item\"><span class=\"k-list-title\">${messages.columnVisibility}</span>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '#for (var idx = 0; idx < columns.length; idx++) {#' + '<li id=\"#=kendo.guid()#\" class=\"k-item k-listgroup-item\">' + '<span class=\"k-listgroup-form-row\">' + '<span class=\"k-listgroup-form-field-label k-item-title\">' + '#=columns[idx].title#' + '</span>' + '<span class=\"k-listgroup-form-field-wrapper\">' + '<input type=\"checkbox\" title=\"#=columns[idx].title#\" ' + ' data-#=ns#field=\"#=columns[idx].field.replace(/\"/g,\"&\\\\#34;\")#\"' + ' data-#=ns#index=\"#=columns[idx].index#\"' + ' data-#=ns#uid=\"#=columns[idx].uid#\"' + ' data-#=ns#locked=\"#=columns[idx].locked#\" />' + '</span>' + '</span>' + '</li>' + '#}#' + '</ul>' + '</li>' + '#}#' + '<li class=\"k-item k-clear-wrap\">' + '<span class=\"k-list-title\">&nbsp;</span>' + '<ul class=\"k-listgroup k-listgroup-flush\">' + '<li class=\"k-listgroup-item\">' + '<span class=\"k-link k-label k-clear\" title=\"#=messages.clear#\" aria-label=\"#=messages.clear#\">' + '#=messages.clear#' + '</span>' + '</li>' + '</ul>' + '</li>' + '</ul>' + '</div>' + '</div>';\n        var MobileMenu = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._createCheckBoxes();\n                that.element.on('click' + NS, 'li.k-item:not(.k-separator):not(.k-state-disabled):not(:has(.k-switch))', '_click');\n            },\n            events: [SELECT],\n            _click: function (e) {\n                var that = this;\n                if (!$(e.target).is('[type=checkbox]')) {\n                    e.preventDefault();\n                }\n                if ($(e.target).hasClass('k-clear')) {\n                    that._cancelChanges(true);\n                    return;\n                }\n                if ($(e.target).hasClass('k-filterable')) {\n                    that._cancelChanges(true);\n                    that.trigger(SELECT, { item: e.currentTarget });\n                    return;\n                }\n                that._updateSelectedItems(e.currentTarget);\n            },\n            _updateSelectedItems: function (el) {\n                var that = this;\n                var item = $(el);\n                var state = that.options.columnMenu.view.state || { columns: {} };\n                var id = item.prop('id');\n                if (item.hasClass('k-filter-item')) {\n                    return;\n                }\n                if (state[id]) {\n                    state[id] = false;\n                } else {\n                    state[id] = true;\n                }\n                if (item.hasClass('k-sort-asc') || item.hasClass('k-sort-desc')) {\n                    var dir;\n                    var otherItem;\n                    var otherItemId;\n                    if (item.hasClass('k-sort-asc')) {\n                        dir = 'asc';\n                        otherItem = that.element.find('.k-sort-desc');\n                    } else {\n                        dir = 'desc';\n                        otherItem = that.element.find('.k-sort-asc');\n                    }\n                    otherItemId = otherItem.prop('id');\n                    if (dir === state.initialSort && !item.hasClass('k-state-selected')) {\n                        state[id] = false;\n                    }\n                    if (state[otherItemId]) {\n                        state[otherItemId] = false;\n                    }\n                    otherItem.removeClass(ACTIVE);\n                }\n                if (item.hasClass(ACTIVE)) {\n                    item.removeClass(ACTIVE);\n                } else {\n                    item.addClass(ACTIVE);\n                }\n            },\n            _cancelChanges: function (force) {\n                var that = this;\n                var menu = that.options.columnMenu;\n                var view = menu.view;\n                var state = view.state || { columns: {} };\n                var columns = state.columns;\n                that.element.find('.' + ACTIVE).removeClass(ACTIVE);\n                menu.refresh();\n                if (force) {\n                    var selectedItems = [];\n                    for (var key in columns) {\n                        if (columns.hasOwnProperty(key)) {\n                            if (columns[key] === true) {\n                                var item = view.element.find('#' + key);\n                                selectedItems.push(item[0]);\n                            }\n                        }\n                    }\n                    for (var i = selectedItems.length - 1; i >= 0; i--) {\n                        that.trigger(SELECT, { item: selectedItems[i] });\n                    }\n                    if (menu.options.hasLockableColumns) {\n                        menu._updateLockedColumns();\n                    }\n                    if (menu.options.hasStickableColumns) {\n                        menu._updateStickyColumns();\n                    }\n                }\n                that.options.columnMenu.view.state = { columns: {} };\n            },\n            _applyChanges: function () {\n                var that = this;\n                var view = that.options.columnMenu.view;\n                var state = view.state || { columns: {} };\n                for (var key in state) {\n                    if (state.hasOwnProperty(key)) {\n                        if (key !== 'initialSort' && key !== 'columns' && state[key] === true) {\n                            var item = view.element.find('#' + key);\n                            if (item.hasClass(ACTIVE)) {\n                                item.removeClass(ACTIVE);\n                            } else {\n                                item.addClass(ACTIVE);\n                            }\n                            that.trigger(SELECT, { item: item[0] });\n                        }\n                    }\n                }\n            },\n            _createCheckBoxes: function () {\n                var that = this;\n                that.element.find('.k-columns-item').find('[type=\\'checkbox\\']').kendoSwitch({\n                    messages: {\n                        checked: '',\n                        unchecked: ''\n                    },\n                    change: function (e) {\n                        var item = e.sender.element.closest('.k-item');\n                        var state = that.options.columnMenu.view.state || { columns: {} };\n                        var id = item.prop('id');\n                        if (state.columns[id]) {\n                            state.columns[id] = false;\n                        } else {\n                            state.columns[id] = true;\n                        }\n                        that.trigger(SELECT, { item: item });\n                    }\n                });\n            },\n            _destroyCheckBoxes: function () {\n                var that = this;\n                var elements = that.element.find('.k-columns-item').find('[type=\\'checkbox\\']');\n                var switchWidget;\n                for (var i = 0; i < elements.length; i++) {\n                    switchWidget = elements.eq(i).data('kendoSwitch');\n                    if (switchWidget) {\n                        switchWidget.destroy();\n                    }\n                }\n            },\n            close: function () {\n                this.options.pane.navigate('');\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.element.off(NS);\n                that._destroyCheckBoxes();\n            }\n        });\n        ui.plugin(ColumnMenu);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}